<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      metal:use-macro="here/main_template/macros/master"
      i18n:domain="osha">

<metal:cssslot fill-slot="css_slot">
  <style type="text/css">
  #db_results dd { background-color: transparent; margin-left: 0; padding-left: 2em !important; border-bottom: 1px dotted gray; padding: 2px; } 
  .keylist {  list-style-type: none !important; list-style-image: none !important;}
  .keylist li { padding: 1px; margin:0; }
  .current_term { background-color: #ccc; }
  .resultcol {float:left; width:48%; padding-right:1%;}
  .detailcol {float:left; width:48%; border: 1px dashed gray; padding:0 1%; background-color: #eee;}
  .detailcol h3 { border-bottom: 1px solid gray;  margin-bottom:1.5em;}
  </style>

</metal:cssslot>

<div metal:fill-slot="main" i18n:domain="osha"
       tal:define="keywords view/getKeywords;
                   resultsList view/resultsBySearchterm|python:[];
                   searchterm view/getSearchterm |string:;
                   term_id view/getTerm_id |string:;
                   ">
    
    <div id="alphabetical-index">

        <h1 class="documentFirstHeading" i18n:translate="whoswho_type">Who's Who by Type</h1>

        <div style="text-align:center" id="slc-whoswho-type-terms">
            <span tal:repeat="kw keywords"
                tal:omit-tag="">

                <a href="" rel="nofollow"
                   tal:attributes="href string:${request/URL}?searchterm=${kw/id};
                   term kw/id; caption kw/title;"
                   class="index-term"
                   tal:content="kw/title" >
                </a>

                <span tal:omit-tag="" tal:condition="not:repeat/kw/end">|</span> 

            </span>

        </div>



        <div id="slc-index-results" tal:define="lenresults python:len(resultsList);
                         modulo python: lenresults % 3;
                         itemspercol python:modulo == 0 and lenresults/3 or lenresults/3+1;
                         colA python:resultsList[:itemspercol];
                         colB python:resultsList[itemspercol:2*itemspercol];
                         colC python:resultsList[2*itemspercol:]">
            <h2>
                <span tal:condition="searchterm" tal:content="view/getTermById">Letter</span>
            </h2>
            <div id="resultcolA" class="resultcol">
                <ul class="keylist" tal:condition="searchterm">
                    <tal:repeat tal:repeat="res resultsList">
                    <dt>
                        <a href="" rel="nofollow"
                           tal:content="res/Title"
                           tal:attributes="href res/getURL"/>
                    </dt>
                    <dd tal:content="res/Description"></dd>
                    </tal:repeat>
                </ul>
            </div>
        
        </div>

    </div>



</div>
</html>  